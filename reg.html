<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Регистрация | Корочки.есть</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Регистрация</title>  
</head>
<body class="body-reg">
    <div class="container">
        <h1>Регистрация</h1>
        <form id="registrationForm" class="form__wrapper">
            <div class="fio">
                <div class="fio-input">
                    <input type="text" id="form-fio-last-name" placeholder="Фамилия" required>
                    <input type="text" id="form-fio-first-name" placeholder="Имя" required>
                    <input type="text" id="form-fio-middle-name" placeholder="Отчество" required>
                </div>
                <label for="form-fio-last-name">Укажите точно как в паспорте</label>
            </div>
            <input type="tel" name="phone" id="phone" placeholder="+7(" required>
            <input type="email" name="email" placeholder="Электронная почта" required>
            <input type="text" name="username" placeholder="Логин" required> 
            <input type="password" name="password" placeholder="Пароль" required>
            <button type="submit">Зарегистрироваться</button>
        </form>
        <p class="addon-btn-descr">Или уже есть аккаунт?</p>
        <button onclick="window.open('index.html','_self');" class="addon-btn">Войти</button>
        
    </div>

</body>


<script src="js/db.js"></script>
<script src="js/register.js"></script>
<script>
    document.getElementById("phone").addEventListener("input", function (e) {
    // Удаляем ВСЕ нецифры
    let digits = e.target.value.replace(/\D/g, '');

    // Если цифра начинается с 7 или 8 — убираем её (чтобы не удваивалось)
    if (digits.startsWith("7")) digits = digits.substring(1);
    if (digits.startsWith("8")) digits = digits.substring(1);

    // Ограничиваем 10-ю цифрами
    digits = digits.substring(0, 10);

    // Формируем маску
    let formatted = "+7(";
    if (digits.length > 0) formatted += digits.substring(0, 3);
    if (digits.length >= 3) formatted += ")" + digits.substring(3, 6);
    if (digits.length >= 6) formatted += "-" + digits.substring(6, 8);
    if (digits.length >= 8) formatted += "-" + digits.substring(8, 10);

    e.target.value = formatted;
});

</script>

</html> 
